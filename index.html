<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>LED ì½”ë”© ìˆ˜ì—… ì• ë‹ˆë©”ì´ì…˜</title>
<style>
    /* ë¸Œë¼ìš´ í†¤ í…Œë§ˆ ìŠ¤íƒ€ì¼ */
    body {
        font-family: sans-serif;
        background-color: #6d4c41; /* ë°°ê²½: ì§™ì€ ë¸Œë¼ìš´ */
        color: #f5f5f5; /* ê¸€ììƒ‰: ë°ì€ íšŒìƒ‰ */
        padding: 20px;
    }
    .section {
        background-color: #8d6e63; /* ì„¹ì…˜ ë°°ê²½: ì¤‘ê°„ í†¤ ë¸Œë¼ìš´ */
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.25);
        border: 1px solid #a1887f;
    }
    h2 {
        border-bottom: 2px solid #a1887f;
        padding-bottom: 10px;
    }
    .light-container {
        display: flex;
        gap: 15px;
        padding: 20px 0;
    }
    .button-container {
        display: flex;
        gap: 10px;
    }

    /* ë¶ˆë¹› ìŠ¤íƒ€ì¼ */
    .light {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: #4e342e; /* êº¼ì§„ ìƒíƒœ ìƒ‰: ë” ì–´ë‘ìš´ ë¸Œë¼ìš´ */
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }

    /* ì¼œì§„ ë¶ˆë¹› ìŠ¤íƒ€ì¼ */
    .light.on {
        background-color: #ffb74d; /* ì¼œì§„ ìƒíƒœ ìƒ‰: ì˜¤ë Œì§€/ì•°ë²„ */
        box-shadow: 0 0 15px #ffb74d, 0 0 25px #ffb74d;
    }
    
    /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .action-button {
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        border: none;
        color: white;
        border-radius: 5px;
        transition: background-color 0.2s;
    }
    .run-button {
        background-color: #00897b; /* ì‹¤í–‰ ë²„íŠ¼: í‹¸ ê·¸ë¦° */
    }
    .run-button:hover {
        background-color: #00695c;
    }
    .stop-button {
        background-color: #d84315; /* ì¤‘ì§€ ë²„íŠ¼: ì§™ì€ ì˜¤ë Œì§€ */
    }
    .stop-button:hover {
        background-color: #bf360c;
    }
</style>
</head>
<body>

    <h1>ğŸ’¡ LED ì½”ë”© ìˆ˜ì—… ì• ë‹ˆë©”ì´ì…˜</h1>

    <div class="section">
        <h2>1. ìˆœì°¨ì ìœ¼ë¡œ ì¼œì§€ê¸° (ë°˜ë³µ)</h2>
        <div class="light-container" id="section1-lights">
            <div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div>
        </div>
        <div class="button-container">
            <button class="action-button run-button" data-section="1">ì‹¤í–‰</button>
            <button class="action-button stop-button">ì¤‘ì§€</button>
        </div>
    </div>

    <div class="section">
        <h2>2. ìˆœì°¨ì ìœ¼ë¡œ ì¼œì¡Œë‹¤ êº¼ì§€ê¸° (ë°˜ë³µ)</h2>
        <div class="light-container" id="section2-lights">
            <div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div>
        </div>
        <div class="button-container">
            <button class="action-button run-button" data-section="2">ì‹¤í–‰</button>
            <button class="action-button stop-button">ì¤‘ì§€</button>
        </div>
    </div>

    <div class="section">
        <h2>3. ë‹¤ìŒ ë¶ˆë¹› ì¼œì§€ë©´ ì´ì „ ë¶ˆë¹› êº¼ì§€ê¸° (ë°˜ë³µ)</h2>
        <div class="light-container" id="section3-lights">
            <div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div>
        </div>
        <div class="button-container">
            <button class="action-button run-button" data-section="3">ì‹¤í–‰</button>
            <button class="action-button stop-button">ì¤‘ì§€</button>
        </div>
    </div>

    <div class="section">
        <h2>4. ëœë¤í•˜ê²Œ 0.5ì´ˆ ê¹œë¹¡ì´ê¸° (ë°˜ë³µ)</h2>
        <div class="light-container" id="section4-lights">
            <div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div>
        </div>
        <div class="button-container">
            <button class="action-button run-button" data-section="4">ì‹¤í–‰</button>
            <button class="action-button stop-button">ì¤‘ì§€</button>
        </div>
    </div>

<script>
    let activeSection = null;
    let randomBlinkInterval = null;

    document.querySelectorAll('.run-button').forEach(button => {
        button.addEventListener('click', handleAnimation);
    });

    document.querySelectorAll('.stop-button').forEach(button => {
        button.addEventListener('click', stopAllAnimations);
    });

    function stopAllAnimations() {
        activeSection = null;
        clearInterval(randomBlinkInterval);
        document.querySelectorAll('.light').forEach(light => {
            light.classList.remove('on');
        });
    }

    // *** ìˆ˜ì •ëœ ë¶€ë¶„ ***
    // ì‹¤í–‰ ë²„íŠ¼ì˜ ë¡œì§ì„ ë” ëª…í™•í•˜ê³  ì§ê´€ì ìœ¼ë¡œ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.
    function handleAnimation(event) {
        const sectionId = event.target.dataset.section;
        
        // 1. í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ ëª¨ë“  ì• ë‹ˆë©”ì´ì…˜ì„ ë¨¼ì € ì¤‘ì§€í•©ë‹ˆë‹¤.
        stopAllAnimations();

        // 2. ê³§ë°”ë¡œ ìƒˆë¡œìš´ ì• ë‹ˆë©”ì´ì…˜ì„ ì‹œì‘í•©ë‹ˆë‹¤.
        activeSection = sectionId;
        const lights = document.querySelectorAll(`#section${sectionId}-lights .light`);
        
        switch (sectionId) {
            case '1': animateSequentialOn(lights, sectionId); break;
            case '2': animateSequentialBlink(lights, sectionId); break;
            case '3': animateCaterpillar(lights, sectionId); break;
            case '4': animateRandomBlink(lights, sectionId); break;
        }
    }
    
    const sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms));

    async function animateSequentialOn(lights, sectionId) {
        while (activeSection === sectionId) {
            for (let i = 0; i < lights.length; i++) {
                if (activeSection !== sectionId) return;
                lights[i].classList.add('on');
                await sleep(500);
            }
            await sleep(1000);
            if (activeSection !== sectionId) return;
            lights.forEach(light => light.classList.remove('on'));
            await sleep(500);
        }
    }

    async function animateSequentialBlink(lights, sectionId) {
        while (activeSection === sectionId) {
            for (let i = 0; i < lights.length; i++) {
                if (activeSection !== sectionId) return;
                lights[i].classList.add('on');
                await sleep(600);
                if (activeSection !== sectionId) return;
                lights[i].classList.remove('on');
                await sleep(300);
            }
            await sleep(1000);
        }
    }

    async function animateCaterpillar(lights, sectionId) {
        while (activeSection === sectionId) {
            for (let i = 0; i < lights.length; i++) {
                if (activeSection !== sectionId) return;
                lights[i].classList.add('on');
                if (i > 0) {
                    lights[i - 1].classList.remove('on');
                }
                await sleep(600);
            }
            if (activeSection !== sectionId) return;
            lights[lights.length - 1].classList.remove('on');
            await sleep(1000);
        }
    }

    function animateRandomBlink(lights, sectionId) {
        randomBlinkInterval = setInterval(() => {
            if (activeSection !== sectionId) {
                clearInterval(randomBlinkInterval);
                return;
            }
            lights.forEach(light => light.classList.remove('on'));
            const randomIndex = Math.floor(Math.random() * lights.length);
            lights[randomIndex].classList.add('on');
        }, 500);
    }
</script>
</body>
</html>
